# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ Telegram –±–æ—Ç–µ

**–î–∞—Ç–∞:** 5 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –ø–µ—Ä–≤–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞ –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ –ò–ò–ù –≤–æ–∑–Ω–∏–∫–∞–ª–∏ —Å–ª–µ–¥—É—é—â–∏–µ –æ—à–∏–±–∫–∏:

1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —è–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞** - –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–ª –∫–∞–∑–∞—Ö—Å–∫–∏–π —è–∑—ã–∫ –≤ –Ω–∞—á–∞–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ –ò–ò–ù —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
2. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ò–ò–ù** - –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª–∞—Å—å –¥–ª–∏–Ω–∞ –∏ —Ñ–æ—Ä–º–∞—Ç –ò–ò–ù –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
3. **–ù–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö** - –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞—Å—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞, –ø–æ—á–µ–º—É –ò–ò–ù –Ω–µ–≤–µ—Ä–Ω—ã–π
4. **–û–±—â–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è** - –Ω–µ —É–∫–∞–∑—ã–≤–∞–ª–æ—Å—å, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

## –ü—Ä–∏—á–∏–Ω—ã

### 1. –ü—Ä–æ–±–ª–µ–º–∞ —Å —è–∑—ã–∫–æ–º
**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞:** Middleware `AuthMiddleware` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª —è–∑—ã–∫ –≤ `'ru'` –¥–ª—è –≤—Å–µ—Ö –Ω–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª –∫–∞–∑–∞—Ö—Å–∫–∏–π —è–∑—ã–∫ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –∫–∞–∑–∞—Ö—Å–∫–∏–π —è–∑—ã–∫ ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ FSM state
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ ‚Üí –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –∫–∞–∑–∞—Ö—Å–∫–æ–º ‚úÖ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –ò–ò–ù ‚Üí middleware –≤–∏–¥–∏—Ç, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω ‚Üí —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `user_language='ru'`
- –§—É–Ω–∫—Ü–∏—è `t()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ –≤–º–µ—Å—Ç–æ –∫–∞–∑–∞—Ö—Å–∫–æ–≥–æ ‚ùå

### 2. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
–û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –±–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ò–ò–ù (12 —Ü–∏—Ñ—Ä) –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

### 3. –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è —è–∑—ã–∫ –∏–∑ FSM state
–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–ª—É—á–∞–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä `language` –∏–∑ middleware, –∞ –Ω–µ –∏–∑ FSM state, –≥–¥–µ —Ö—Ä–∞–Ω–∏–ª—Å—è –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —è–∑—ã–∫.

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –£–ª—É—á—à–µ–Ω middleware I18nMiddleware
**–§–∞–π–ª:** `telegram_bot/middlewares/i18n.py`

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ FSM state –¥–ª—è –Ω–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

```python
# For unregistered users in registration flow, check FSM state for language
if not data.get('is_registered', False):
    state = data.get('state')
    if state:
        try:
            state_data = await state.get_data()
            if 'language' in state_data:
                user_language = state_data['language']
        except Exception:
            pass
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–ø–µ—Ä—å middleware –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —è–∑—ã–∫ –¥–ª—è –Ω–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ FSM state.

### 2. –£–ª—É—á—à–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤–≤–æ–¥–∞ –ò–ò–ù
**–§–∞–π–ª:** `telegram_bot/handlers/start.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –±–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è: –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –ò–ò–ù —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 12 —Ü–∏—Ñ—Ä
- –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `logging` –∏ —Å–æ–∑–¥–∞–Ω `logger`
- –£–¥–∞–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `language` –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ (—Ç–µ–ø–µ—Ä—å –±–µ—Ä–µ—Ç—Å—è –∏–∑ FSM state)
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —è–∑—ã–∫–∞ –∏–∑ FSM state –≤–º–µ—Å—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –æ—Ç API

```python
@router.message(RegistrationStates.iin)
async def get_iin(message: Message, state: FSMContext, t: callable):
    """Get IIN"""
    iin = message.text.replace(' ', '').replace('-', '')
    
    # Basic validation: must be exactly 12 digits
    if not iin.isdigit() or len(iin) != 12:
        await message.answer(t('reg_iin_invalid'))
        return
    
    # Verify IIN via API
    try:
        result = await api_client.verify_iin(iin)
        if result.get('valid'):
            await state.update_data(iin=iin)
            
            # Get language from state (not from middleware, as user is not registered yet)
            data = await state.get_data()
            user_language = data.get('language', 'ru')
            
            await message.answer(
                t('reg_consents'),
                reply_markup=get_consents_keyboard(user_language)
            )
            await state.set_state(RegistrationStates.consents)
        else:
            # Show specific error if available
            error_msg = result.get('error')
            if error_msg:
                await message.answer(f"{t('reg_iin_invalid')}\n\n{error_msg}")
            else:
                await message.answer(t('reg_iin_invalid'))
    except Exception as e:
        logger.error(f"Error verifying IIN: {e}")
        await message.answer(t('error_general'))
```

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –¥—Ä—É–≥–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
**–§–∞–π–ª:** `telegram_bot/handlers/start.py`

–û–±–Ω–æ–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:
- `get_middle_name` - —è–∑—ã–∫ –±–µ—Ä–µ—Ç—Å—è –∏–∑ FSM state
- `get_birth_date` - —è–∑—ã–∫ –±–µ—Ä–µ—Ç—Å—è –∏–∑ FSM state, –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç—ã –≤ –±—É–¥—É—â–µ–º
- `accept_consents` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- `decline_consents` - –¥–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–∫–∞–∑–∞ –æ—Ç —Å–æ–≥–ª–∞—Å–∏–π

### 4. –£–ª—É—á—à–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
**–§–∞–π–ª—ã:** `telegram_bot/locales/ru.json`, `telegram_bot/locales/kk.json`

**–î–æ–±–∞–≤–ª–µ–Ω–æ/—É–ª—É—á—à–µ–Ω–æ:**
- `reg_birth_date` - –¥–æ–±–∞–≤–ª–µ–Ω –ø—Ä–∏–º–µ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞—Ç—ã
- `reg_birth_date_invalid` - –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —á–µ—Ç–∫–∏–º —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–∞ –æ—à–∏–±–∫—É
- `reg_iin_invalid` - –¥–æ–±–∞–≤–ª–µ–Ω —ç–º–æ–¥–∑–∏ ‚ùå –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏
- `reg_complete` - –¥–æ–±–∞–≤–ª–µ–Ω —ç–º–æ–¥–∑–∏ ‚úÖ
- `reg_declined` - –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ –æ—Ç —Å–æ–≥–ª–∞—Å–∏–π

**–†—É—Å—Å–∫–∏–π:**
```json
"reg_birth_date": "–í–≤–µ–¥–∏—Ç–µ –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ –î–î.–ú–ú.–ì–ì–ì–ì (–Ω–∞–ø—Ä–∏–º–µ—Ä, 15.03.1990):",
"reg_birth_date_invalid": "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ –î–î.–ú–ú.–ì–ì–ì–ì (–Ω–∞–ø—Ä–∏–º–µ—Ä, 15.03.1990):",
"reg_iin_invalid": "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –ò–ò–ù. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏ –≤–≤–µ–¥–∏—Ç–µ –µ—â—ë —Ä–∞–∑:",
"reg_complete": "‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {name}!",
"reg_declined": "–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –±–µ–∑ —Å–æ–≥–ª–∞—Å–∏—è –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö –º—ã –Ω–µ –º–æ–∂–µ–º –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–∞—Å –≤ —Å–∏—Å—Ç–µ–º–µ.\n\n–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—á–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∑–∞–Ω–æ–≤–æ –∫–æ–º–∞–Ω–¥–æ–π /start"
```

**–ö–∞–∑–∞—Ö—Å–∫–∏–π:**
```json
"reg_birth_date": "–¢—É“ì–∞–Ω –∫“Ø–Ω—ñ“£—ñ–∑–¥—ñ –ö–ö.–ê–ê.–ñ–ñ–ñ–ñ —Ñ–æ—Ä–º–∞—Ç—ã–Ω–¥–∞ –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑ (–º—ã—Å–∞–ª—ã, 15.03.1990):",
"reg_birth_date_invalid": "–ö“Ø–Ω–Ω—ñ“£ “õ–∞—Ç–µ —Ñ–æ—Ä–º–∞—Ç—ã. –ö“Ø–Ω–¥—ñ –ö–ö.–ê–ê.–ñ–ñ–ñ–ñ —Ñ–æ—Ä–º–∞—Ç—ã–Ω–¥–∞ –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑ (–º—ã—Å–∞–ª—ã, 15.03.1990):",
"reg_iin_invalid": "‚ùå “ö–∞—Ç–µ –ñ–°–ù. –¢–µ–∫—Å–µ—Ä—ñ–ø, “õ–∞–π—Ç–∞ –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑:",
"reg_complete": "‚úÖ –¢—ñ—Ä–∫–µ—É –∞—è“õ—Ç–∞–ª–¥—ã! “ö–æ—à –∫–µ–ª–¥—ñ“£—ñ–∑, {name}!",
"reg_declined": "”®–∫—ñ–Ω—ñ—à–∫–µ –æ—Ä–∞–π, –¥–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ ”©“£–¥–µ—É–≥–µ –∫–µ–ª—ñ—Å—ñ–º—Å—ñ–∑ —Å—ñ–∑–¥—ñ –∂“Ø–π–µ–≥–µ —Ç—ñ—Ä–∫–µ–π –∞–ª–º–∞–π–º—ã–∑.\n\n–¢—ñ—Ä–∫–µ—É–¥—ñ “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞—É “Ø—à—ñ–Ω /start –ø”ô—Ä–º–µ–Ω—ñ–Ω “õ–æ–ª–¥–∞–Ω—ã“£—ã–∑"
```

## –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. ‚úÖ `telegram_bot/middlewares/i18n.py` - —É–ª—É—á—à–µ–Ω middleware –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —è–∑—ã–∫–æ–º
2. ‚úÖ `telegram_bot/handlers/start.py` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
3. ‚úÖ `telegram_bot/locales/ru.json` - —É–ª—É—á—à–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º
4. ‚úÖ `telegram_bot/locales/kk.json` - —É–ª—É—á—à–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –∫–∞–∑–∞—Ö—Å–∫–æ–º

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/start`
2. –í—ã–±—Ä–∞—Ç—å "üá∑üá∫ –†—É—Å—Å–∫–∏–π"
3. –í–≤–µ—Å—Ç–∏ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
4. –í–≤–µ—Å—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ò–ò–ù
5. ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –∫–∞–∑–∞—Ö—Å–∫–æ–º —è–∑—ã–∫–µ
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/start`
2. –í—ã–±—Ä–∞—Ç—å "üá∞üáø “ö–∞–∑–∞“õ—à–∞"
3. –í–≤–µ—Å—Ç–∏ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
4. –í–≤–µ—Å—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ò–ò–ù
5. ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –∫–∞–∑–∞—Ö—Å–∫–æ–º, –≤–∫–ª—é—á–∞—è —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ –ò–ò–ù

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ù–µ–≤–µ—Ä–Ω—ã–π –ò–ò–ù
1. –ù–∞—á–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
2. –í–≤–µ—Å—Ç–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π –ò–ò–ù (–Ω–∞–ø—Ä–∏–º–µ—Ä, "123")
3. ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: —Å–æ–æ–±—â–µ–Ω–∏–µ "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –ò–ò–ù. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏ –≤–≤–µ–¥–∏—Ç–µ –µ—â—ë —Ä–∞–∑:"

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
1. –ù–∞—á–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
2. –í–≤–µ—Å—Ç–∏ –¥–∞—Ç—É –≤ –Ω–µ–≤–µ—Ä–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –∏–ª–∏ –¥–∞—Ç—É –≤ –±—É–¥—É—â–µ–º
3. ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: —Å–æ–æ–±—â–µ–Ω–∏–µ "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ –î–î.–ú–ú.–ì–ì–ì–ì..."

### –°—Ü–µ–Ω–∞—Ä–∏–π 5: –û—Ç–∫–∞–∑ –æ—Ç —Å–æ–≥–ª–∞—Å–∏–π
1. –ù–∞—á–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
2. –î–æ–π—Ç–∏ –¥–æ —ç—Ç–∞–ø–∞ —Å–æ–≥–ª–∞—Å–∏–π
3. –ù–∞–∂–∞—Ç—å "‚ùå –û—Ç–∫–∞–∑–∞—Ç—å—Å—è" / "‚ùå –ë–∞—Å —Ç–∞—Ä—Ç—É"
4. ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—Ç–º–µ–Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ backend
Backend —É–∂–µ –∏–º–µ–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é –ò–ò–ù (`apps.patients.validators.validate_iin`):
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ (12 —Ü–∏—Ñ—Ä)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è –∏–∑ –ò–ò–ù
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª–∞ –∏–∑ –ò–ò–ù
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –≤–µ–∫–∞ (7-—è —Ü–∏—Ñ—Ä–∞)

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º:
```python
logger.error(f"Error verifying IIN: {e}")
logger.error(f"Error completing registration: {e}")
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º —è–∑—ã–∫–æ–º –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –ë–∞–∑–æ–≤–∞—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ò–ò–ù –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø—Ä–∏—á–∏–Ω—ã
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–∫–∞–∑–∞ –æ—Ç —Å–æ–≥–ª–∞—Å–∏–π

Telegram –±–æ—Ç —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥–≤—É—Ö —è–∑—ã–∫–æ–≤ (—Ä—É—Å—Å–∫–∏–π –∏ –∫–∞–∑–∞—Ö—Å–∫–∏–π).

